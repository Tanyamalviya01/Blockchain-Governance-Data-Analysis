
  ___  ____  ____  ____  ____ ®
 /__    /   ____/   /   ____/      StataNow 19.5
___/   /   /___/   /   /___/       MP—Parallel Edition

 Statistics and Data Science       Copyright 1985-2025 StataCorp LLC
                                   StataCorp
                                   4905 Lakeway Drive
                                   College Station, Texas 77845 USA
                                   800-782-8272        https://www.stata.com
                                   979-696-4600        service@stata.com

Stata license: Unlimited-user 4-core network, expiring 31 May 2026
Serial number: 501909304680
  Licensed to: Tanya
               Malviya

Notes:
      1. Stata is running in batch mode.
      2. Unicode is supported; see help unicode_advice.
      3. More than 2 billion observations are allowed; see help obs_advice.
      4. Maximum number of variables is set to 5,000 but can be increased;
          see help set_maxvar.

. do blockchain_analysis_final.do 

. * Blockchain Governance Analysis
. clear all

. set more off

. 
. * Load the cleaned dataset
. import delimited "../all_11platforms_STATA_READY.csv", clear
(encoding automatically selected: ISO-8859-1)
(293 vars, 4,547 obs)

. 
. * Drop ALL potentially existing variables
. capture drop platform_id

. capture drop time_var

. capture drop date

. capture drop log_*

. capture drop month

. capture drop lreddit_*

. capture drop lgithub_n_issues

. 
. * Create platform ID and time variable
. encode platform, gen(platform_id)

. gen time_var = year * 100 + week

. 
. * Convert to proper date format
. gen date = weekly(string(year) + "w" + string(week), "YW")
(7 missing values generated)

. format date %tw

. xtset platform_id date

Panel variable: platform_id (unbalanced)
 Time variable: date, 2015w1 to 2025w1, but with gaps
         Delta: 1 week

. 
. * Generate log transformations
. gen log_MC = ln(market_cap) if market_cap > 0 & market_cap != .
(7 missing values generated)

. gen log_Block_invHHI3 = ln(block_hhi) if block_hhi > 0 & block_hhi != .
(3,091 missing values generated)

. gen log_Commit_invHHI = ln(commit_hhi) if commit_hhi > 0 & commit_hhi != .
(3,387 missing values generated)

. gen log_hashrate = ln(hashrate) if hashrate > 0 & hashrate != .
(2,971 missing values generated)

. gen log_volume_USD = ln(volume_usd) if volume_usd > 0 & volume_usd != .
(30 missing values generated)

. 
. * Handle proposal variables (check if they exist) - FIXED SYNTAX
. capture confirm variable number_proposal

. if _rc == 0 {
.     gen log_n_proposals = ln(number_proposal + 1) if number_proposal >= 0 & n
> umber_proposal != .
(4,467 missing values generated)
. }

. if _rc != 0 {
.     gen log_n_proposals = .
.     display "Warning: number_proposal variable not found"
. }

. 
. capture confirm variable topic_diversity

. if _rc == 0 {
.     gen log_N_topics = ln(topic_diversity + 1) if topic_diversity >= 0 & topi
> c_diversity != .
(4,467 missing values generated)
. }

. if _rc != 0 {
.     gen log_N_topics = .
.     display "Warning: topic_diversity variable not found"
. }

. 
. * Generate control variables (with existence checks) - FIXED SYNTAX
. capture confirm variable forks

. if _rc == 0 {
.     gen log_forks = ln(forks) if forks > 0 & forks != .
(555 missing values generated)
. }

. if _rc != 0 {
.     gen log_forks = .
.     display "Warning: forks variable not found"
. }

. 
. capture confirm variable stars

. if _rc == 0 {
.     gen log_stars = ln(stars) if stars > 0 & stars != .
(555 missing values generated)
. }

. if _rc != 0 {
.     gen log_stars = .
.     display "Warning: stars variable not found"
. }

. 
. * Reddit variables with robust checking - FIXED SYNTAX
. capture confirm variable reddit_comments

. if _rc == 0 {
.     gen log_reddit_comments = ln(reddit_comments + 1) if reddit_comments >= 0
>  & reddit_comments != .
(1,576 missing values generated)
. }

. if _rc != 0 {
.     gen log_reddit_comments = .
.     display "Warning: reddit_comments variable not found"
. }

. 
. capture confirm variable reddit_posts

. if _rc == 0 {
.     gen lreddit_posts = ln(reddit_posts + 1) if reddit_posts >= 0 & reddit_po
> sts != .
(1,576 missing values generated)
. }

. if _rc != 0 {
.     gen lreddit_posts = .
.     display "Warning: reddit_posts variable not found"
. }

. 
. * Handle reddit_subscribers with multiple attempts - FIXED SYNTAX
. gen log_reddit_subscribers = .
(4,547 missing values generated)

. gen reddit_subscribers_copy = .
(4,547 missing values generated)

. 
. capture confirm variable reddit_subscribers

. if _rc == 0 {
.     replace log_reddit_subscribers = ln(reddit_subscribers) if reddit_subscri
> bers > 0 & reddit_subscribers != .
(4,402 real changes made)
.     replace reddit_subscribers_copy = reddit_subscribers
(4,547 real changes made)
. }

. if _rc != 0 {
.     capture confirm variable Reddit_Subscribers
.     if _rc == 0 {
.         replace log_reddit_subscribers = ln(Reddit_Subscribers) if Reddit_Sub
> scribers > 0 & Reddit_Subscribers != .
.         replace reddit_subscribers_copy = Reddit_Subscribers
.     }
.     if _rc != 0 {
.         display "Warning: reddit_subscribers variable not found"
.     }
. }

. 
. * Platform age variable - FIXED SYNTAX
. capture confirm variable platform_age

. if _rc == 0 {
.     gen log_Platform_Age = ln(platform_age) if platform_age > 0 & platform_ag
> e != .
(3,284 missing values generated)
. }

. if _rc != 0 {
.     capture confirm variable Platform_age
.     if _rc == 0 {
.         gen log_Platform_Age = ln(Platform_age) if Platform_age > 0 & Platfor
> m_age != .
.     }
.     if _rc != 0 {
.         gen log_Platform_Age = .
.         display "Warning: platform_age variable not found"
.     }
. }

. 
. * Create placeholder variables for missing data
. gen log_alexa_rank = .
(4,547 missing values generated)

. gen lgithub_n_issues = .
(4,547 missing values generated)

. 
. * Generate lagged variables
. gen log_Block_invHHI3_lag = L.log_Block_invHHI3
(3,098 missing values generated)

. gen log_Commit_invHHI_lag = L.log_Commit_invHHI
(3,391 missing values generated)

. gen log_hashrate_lag = L.log_hashrate
(3,105 missing values generated)

. gen log_n_proposals_lag = L.log_n_proposals
(4,468 missing values generated)

. gen log_N_topics_lag = L.log_N_topics
(4,468 missing values generated)

. gen log_forks_lag = L.log_forks
(674 missing values generated)

. gen log_stars_lag = L.log_stars
(674 missing values generated)

. gen lreddit_comments_lag = L.log_reddit_comments
(1,590 missing values generated)

. gen lreddit_posts_lag = L.lreddit_posts
(1,590 missing values generated)

. gen log_reddit_subscribers_lag = L.log_reddit_subscribers
(287 missing values generated)

. gen log_Platform_Age_lag = L.log_Platform_Age
(3,417 missing values generated)

. 
. * Generate month variable
. gen month = month(dofC(date))
(7 missing values generated)

. 
. * Display variable availability summary
. display "=== VARIABLE AVAILABILITY SUMMARY ==="
=== VARIABLE AVAILABILITY SUMMARY ===

. count if !missing(log_MC)
  4,540

. display "log_MC available: " r(N) " observations"
log_MC available: 4540 observations

. 
. count if !missing(log_Block_invHHI3_lag)
  1,449

. display "log_Block_invHHI3_lag available: " r(N) " observations"
log_Block_invHHI3_lag available: 1449 observations

. 
. count if !missing(log_Commit_invHHI_lag)
  1,156

. display "log_Commit_invHHI_lag available: " r(N) " observations"
log_Commit_invHHI_lag available: 1156 observations

. 
. count if !missing(log_hashrate_lag)
  1,442

. display "log_hashrate_lag available: " r(N) " observations"
log_hashrate_lag available: 1442 observations

. 
. * Check data availability for core analysis
. count if !missing(log_MC, log_Block_invHHI3_lag, log_Commit_invHHI_lag)
  1,156

. local complete_obs = r(N)

. display "Observations with complete core data: " `complete_obs'
Observations with complete core data: 1156

. 
. if `complete_obs' > 50 {
.     
.     display "=== RUNNING ANALYSIS WITH AVAILABLE DATA ==="
=== RUNNING ANALYSIS WITH AVAILABLE DATA ===
.     
.     * Model 1: Basic Market Cap model
.     display "Running Model 1: Basic Market Cap Analysis..."
Running Model 1: Basic Market Cap Analysis...
.     xtreg log_MC c.log_Block_invHHI3_lag##c.log_Block_invHHI3_lag c.log_Commi
> t_invHHI_lag##c.log_Commit_invHHI_lag i.month, fe robust
note: log_Block_invHHI3_lag omitted because of collinearity.
note: c.log_Block_invHHI3_lag#c.log_Block_invHHI3_lag omitted because of
      collinearity.
note: 1.month omitted because of collinearity.

Fixed-effects (within) regression               Number of obs     =      1,156
Group variable: platform_id                     Number of groups  =          7

R-squared:                                      Obs per group:
     Within  = 0.0058                                         min =         44
     Between = 0.3951                                         avg =      165.1
     Overall = 0.2271                                         max =        207

                                                F(2, 6)           =      10.15
corr(u_i, Xb) = 0.4689                          Prob > F          =     0.0119

                            (Std. err. adjusted for 7 clusters in platform_id)
------------------------------------------------------------------------------
             |               Robust
      log_MC | Coefficient  std. err.      t    P>|t|     [95% conf. interval]
-------------+----------------------------------------------------------------
log_Block_~g |          0  (omitted)
             |
          c. |
log_Block_~g#|
          c. |
log_Block_~g |          0  (omitted)
             |
log_Commit~g |   .1873447   .0453995     4.13   0.006     .0762562    .2984332
             |
          c. |
log_Commit~g#|
          c. |
log_Commit~g |  -.0357633   .0167121    -2.14   0.076    -.0766563    .0051297
             |
     1.month |          0  (omitted)
       _cons |   23.24553   .0395143   588.28   0.000     23.14884    23.34221
-------------+----------------------------------------------------------------
     sigma_u |  2.4238572
     sigma_e |  .62255195
         rho |  .93811395   (fraction of variance due to u_i)
------------------------------------------------------------------------------
.     estimates store mc_basic_model
.     
.     * Model 2: Market Cap with available controls
.     count if !missing(log_MC, log_Block_invHHI3_lag, log_Commit_invHHI_lag, l
> og_forks_lag, log_stars_lag)
  1,156
.     if r(N) > 30 {
.         display "Running Model 2: Market Cap with GitHub Controls..."
Running Model 2: Market Cap with GitHub Controls...
.         xtreg log_MC c.log_Block_invHHI3_lag##c.log_Block_invHHI3_lag c.log_C
> ommit_invHHI_lag##c.log_Commit_invHHI_lag log_forks_lag log_stars_lag i.month
> , fe robust
note: log_Block_invHHI3_lag omitted because of collinearity.
note: c.log_Block_invHHI3_lag#c.log_Block_invHHI3_lag omitted because of
      collinearity.
note: log_forks_lag omitted because of collinearity.
note: log_stars_lag omitted because of collinearity.
note: 1.month omitted because of collinearity.

Fixed-effects (within) regression               Number of obs     =      1,156
Group variable: platform_id                     Number of groups  =          7

R-squared:                                      Obs per group:
     Within  = 0.0058                                         min =         44
     Between = 0.3951                                         avg =      165.1
     Overall = 0.2271                                         max =        207

                                                F(2, 6)           =      10.15
corr(u_i, Xb) = 0.4689                          Prob > F          =     0.0119

                            (Std. err. adjusted for 7 clusters in platform_id)
------------------------------------------------------------------------------
             |               Robust
      log_MC | Coefficient  std. err.      t    P>|t|     [95% conf. interval]
-------------+----------------------------------------------------------------
log_Block_~g |          0  (omitted)
             |
          c. |
log_Block_~g#|
          c. |
log_Block_~g |          0  (omitted)
             |
log_Commit~g |   .1873447   .0453995     4.13   0.006     .0762562    .2984332
             |
          c. |
log_Commit~g#|
          c. |
log_Commit~g |  -.0357633   .0167121    -2.14   0.076    -.0766563    .0051297
             |
log_forks_~g |          0  (omitted)
log_stars_~g |          0  (omitted)
     1.month |          0  (omitted)
       _cons |   23.24553   .0395143   588.28   0.000     23.14884    23.34221
-------------+----------------------------------------------------------------
     sigma_u |  2.4238572
     sigma_e |  .62255195
         rho |  .93811395   (fraction of variance due to u_i)
------------------------------------------------------------------------------
.         estimates store mc_controls_model
.     }
.     
.     * Model 3: Hashrate mediation
.     count if !missing(log_hashrate, log_Block_invHHI3_lag, log_Commit_invHHI_
> lag)
  0
.     if r(N) > 30 {
.         display "Running Model 3: Hashrate Analysis..."
.         xtreg log_hashrate c.log_Block_invHHI3_lag##c.log_Block_invHHI3_lag c
> .log_Commit_invHHI_lag##c.log_Commit_invHHI_lag i.month, fe robust
.         estimates store hashrate_model
.         
.         * Market cap with hashrate mediation
.         count if !missing(log_MC, log_Block_invHHI3_lag, log_Commit_invHHI_la
> g, log_hashrate_lag)
.         if r(N) > 30 {
.             display "Running Model 4: Market Cap with Hashrate Mediation..."
.             xtreg log_MC c.log_Block_invHHI3_lag##c.log_Block_invHHI3_lag c.l
> og_Commit_invHHI_lag##c.log_Commit_invHHI_lag log_hashrate_lag i.month, fe ro
> bust
.             estimates store mc_hashrate_model
.         }
.     }
.     
.     * Model 5: Volume as alternative outcome
.     count if !missing(log_volume_USD, log_Block_invHHI3_lag, log_Commit_invHH
> I_lag)
  1,155
.     if r(N) > 30 {
.         display "Running Model 5: Volume Analysis..."
Running Model 5: Volume Analysis...
.         xtreg log_volume_USD c.log_Block_invHHI3_lag##c.log_Block_invHHI3_lag
>  c.log_Commit_invHHI_lag##c.log_Commit_invHHI_lag i.month, fe robust
note: log_Block_invHHI3_lag omitted because of collinearity.
note: c.log_Block_invHHI3_lag#c.log_Block_invHHI3_lag omitted because of
      collinearity.
note: 1.month omitted because of collinearity.

Fixed-effects (within) regression               Number of obs     =      1,155
Group variable: platform_id                     Number of groups  =          7

R-squared:                                      Obs per group:
     Within  = 0.0381                                         min =         44
     Between = 0.1217                                         avg =      165.0
     Overall = 0.1258                                         max =        207

                                                F(2, 6)           =       2.67
corr(u_i, Xb) = 0.2635                          Prob > F          =     0.1481

                            (Std. err. adjusted for 7 clusters in platform_id)
------------------------------------------------------------------------------
             |               Robust
log_volume~D | Coefficient  std. err.      t    P>|t|     [95% conf. interval]
-------------+----------------------------------------------------------------
log_Block_~g |          0  (omitted)
             |
          c. |
log_Block_~g#|
          c. |
log_Block_~g |          0  (omitted)
             |
log_Commit~g |   1.162263   .5199759     2.24   0.067    -.1100722    2.434598
             |
          c. |
log_Commit~g#|
          c. |
log_Commit~g |  -.2663345   .1414996    -1.88   0.109    -.6125715    .0799026
             |
     1.month |          0  (omitted)
       _cons |   16.80947   .4194484    40.08   0.000     15.78311    17.83582
-------------+----------------------------------------------------------------
     sigma_u |  2.5596073
     sigma_e |  1.3066848
         rho |  .79326527   (fraction of variance due to u_i)
------------------------------------------------------------------------------
.         estimates store volume_model
.     }
.     
.     * Display comprehensive results
.     display "=== COMPREHENSIVE RESULTS TABLE ==="
=== COMPREHENSIVE RESULTS TABLE ===
.     estimates table mc_basic_model mc_controls_model hashrate_model mc_hashra
> te_model volume_model, ///
>         stats(N r2_w) star(0.1 0.05 0.01) b(%7.4f) t(%7.2f)
estimation result hashrate_model not found
r(111);
.     
.     * Save all estimates
.     estimates save final_corrected_analysis, replace
.     
.     display "=== ANALYSIS COMPLETED SUCCESSFULLY ==="
.     display "Methodology implemented:"
.     display "- Square terms via c.var##c.var specification"
.     display "- Lagged independent variables as requested"
.     display "- Platform and month fixed effects"
.     display "- Robust standard errors"
.     display "- Complete mediation analysis structure"
.     
. }
r(111);

end of do-file
r(111);
